/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";var e=function(e,t,n,s){i={features:null,bind:function(e,t,n,s){var o,i=(s?"remove":"add")+"EventListener";t=t.split(" ");for(o=0;o<t.length;o++)t[o]&&e[i](t[o],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var s=e.length;s--;)if(e[s][n]===t)return s;return-1},extend:function(e,t,n){for(var s in t)if(t.hasOwnProperty(s)){if(n&&e.hasOwnProperty(s))continue;e[s]=t[s]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var n,s,a,r,c,u,h=i.createEl(),p=h.style,t="",e={};e.oldIE=document.all&&!document.addEventListener,e.touch="ontouchstart"in window,window.requestAnimationFrame&&(e.raf=window.requestAnimationFrame,e.caf=window.cancelAnimationFrame),e.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!e.pointerEvent&&(c=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n&&n.length>0&&(n=parseInt(n[1],10),n>=1&&n<8&&(e.isOldIOSPhone=!0))),r=c.match(/Android\s([0-9.]*)/),s=r?r[1]:0,s=parseFloat(s),s>=1&&(s<4.4&&(e.isOldAndroid=!0),e.androidVersion=s),e.isMobileOpera=/opera mini|opera mobi/i.test(c));for(var o,l,m=["transform","perspective","animationName"],f=["","webkit","Moz","ms","O"],d=0;d<4;d++){t=f[d];for(a=0;a<3;a++)o=m[a],l=t+(t?o.charAt(0).toUpperCase()+o.slice(1):o),!e[o]&&l in p&&(e[o]=l);t&&!e.raf&&(t=t.toLowerCase(),e.raf=window[t+"RequestAnimationFrame"],e.raf&&(e.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}return e.raf||(u=0,e.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-u)),s=window.setTimeout(function(){e(t+n)},n);return u=t+n,s},e.caf=function(e){clearTimeout(e)}),e.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=e,e}},i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,s){t=t.split(" ");for(var o,a=(s?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},i=0;i<t.length;i++)if(o=t[i])if("object"==typeof n&&n.handleEvent){if(s){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=r;e[a]("on"+o,n["oldIE"+o])}else e[a]("on"+o,n)});var i,E,X,o=this,Lt=25,Y=3,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"},Re,Ue;i.extend(a,s);var c,l,u,h,f,b,j,A,z,D,N,R,P,I,W,Q,ce,Vt,wt,$t,Te,Ve,re,rt,it,ct,Ye,Wt,Ke,$e,_e,He,me,Le,ft,Ut,Kt,st,yt,qt,Qe,Ne,xt,Me,Ee,kt,te,je,tt,ee,Yt,Jt,_t,Ge,We,Be,qe,$=function(){return{x:0,y:0}},V=$(),fe=$(),r=$(),v={},K=0,be={},x=$(),M=0,Ze=!0,gt=[],Oe={},se=!1,Ce=function(e,t){i.extend(o,t.publicMethods),gt.push(e)},Je=function(e){var t=C();return e>t-1?e-t:e<0?t+e:e},ke={},m=function(e,t){return ke[e]||(ke[e]=[]),ke[e].push(t)},d=function(e){var t,s,n=ke[e];if(n){s=Array.prototype.slice.call(arguments),s.shift();for(t=0;t<n.length;t++)n[t].apply(o,s)}},T=function(){return(new Date).getTime()},L=function(e){We=e,o.bg.style.opacity=e*a.bgOpacity},zt=function(e,t,n,s,i){(!se||i&&i!==o.currItem)&&(s/=i?i.fitRatio:o.currItem.fitRatio),e[me]=rt+t+"px, "+n+"px"+it+" scale("+s+")"},p=function(e){P&&(e&&(u>o.currItem.fitRatio?se||(Z(o.currItem,!1,!0),se=!0):se&&(Z(o.currItem),se=!1)),zt(P,r.x,r.y,u))},De=function(e){e.container&&zt(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},he=function(e,t){t[me]=rt+e+"px, 0px"+it},Pe=function(e,t){if(!a.loop&&t){var s=l+(x.x*K-e)/x.x,n=Math.round(e-H.x);(s<0&&n>0||s>=C()-1&&n<0)&&(e=H.x+n*a.mainScrollEndFriction)}H.x=e,he(e,$t)},mt=function(e,t){var n=Se[e]-be[e];return fe[e]+V[e]+n-n*(t/re)},w=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},en=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},ht=null,ut=function(){ht&&(i.unbind(document,"mousemove",ut),i.addClass(e,"pswp--has_mouse"),a.mouseUsed=!0,d("mouseUsed")),ht=setTimeout(function(){ht=null},100)},jn=function(){i.bind(document,"keydown",o),h.transform&&i.bind(o.scrollWrap,"click",o),a.mouseUsed||i.bind(document,"mousemove",ut),i.bind(window,"resize scroll orientationchange",o),d("bindEvents")},bn=function(){i.unbind(window,"resize scroll orientationchange",o),i.unbind(window,"scroll",b.scroll),i.unbind(document,"keydown",o),i.unbind(document,"mousemove",ut),h.transform&&i.unbind(o.scrollWrap,"click",o),z&&i.unbind(window,Te,o),clearTimeout(yt),d("unbindEvents")},lt=function(e,t){var n=Fe(o.currItem,v,e);return t&&(c=n),n},on=function(e){return e||(e=o.currItem),e.initialZoomLevel},Tt=function(e){return e||(e=o.currItem),e.w>0?a.maxSpreadZoom:1},an=function(e,t,n,s){return s===o.currItem.initialZoomLevel?(n[e]=o.currItem.initialPosition[e],!0):(n[e]=mt(e,s),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},pn=function(){if(me){var t=h.perspective&&!D;return rt="translate"+(t?"3d(":"("),void(it=h.perspective?", 0px)":")")}me="left",i.addClass(e,"pswp--ie"),he=function(e,t){t.left=e+"px"},De=function(e){var n=e.fitRatio>1?1:e.fitRatio,t=e.container.style,s=n*e.w,o=n*e.h;t.width=s+"px",t.height=o+"px",t.left=e.initialPosition.x+"px",t.top=e.initialPosition.y+"px"},p=function(){if(P){var e=P,t=o.currItem,n=t.fitRatio>1?1:t.fitRatio,s=n*t.w,i=n*t.h;e.width=s+"px",e.height=i+"px",e.left=r.x+"px",e.top=r.y+"px"}}},mn=function(e){var t="";a.escKey&&27===e.keyCode?t="close":a.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,o[t]()))},hn=function(e){e&&(je||te||j||Me)&&(e.preventDefault(),e.stopPropagation())},ln=function(){o.setScrollOffset(0,i.getScrollY())},k={},ge=0,xe=function(e){k[e]&&(k[e].raf&&ft(k[e].raf),ge--,delete k[e])},ot=function(e){k[e]&&xe(e),k[e]||(ge++,k[e]={})},we=function(){for(var e in k)k.hasOwnProperty(e)&&xe(e)},ze=function(e,t,n,s,o,i,a){var r,c,l=T();ot(e),c=function(){if(k[e]){if(r=T()-l,r>=s)return xe(e),i(n),void(a&&a());i((n-t)*o(r/s)+t),k[e].raf=Le(c)}},c()},vn={shout:d,listen:m,viewportSize:v,options:a,isMainScrollAnimating:function(){return j},getZoomLevel:function(){return u},getCurrentIndex:function(){return l},isDragging:function(){return z},isZooming:function(){return R},setScrollOffset:function(e,t){be.x=e,Q=be.y=t,d("updateScrollOffset",be)},applyZoomPan:function(e,t,n,s){r.x=t,r.y=n,u=e,p(s)},init:function(){if(!ce&&!Vt){o.framework=i,o.template=e,o.bg=i.getChildByClass(e,"pswp__bg"),Ut=e.className,ce=!0,h=i.detectFeatures(),Le=h.raf,ft=h.caf,me=h.transform,st=h.oldIE,o.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),o.container=i.getChildByClass(o.scrollWrap,"pswp__container"),$t=o.container.style,o.itemHolders=f=[{el:o.container.children[0],wrap:0,index:-1},{el:o.container.children[1],wrap:0,index:-1},{el:o.container.children[2],wrap:0,index:-1}],f[0].el.style.display=f[2].el.style.display="none",pn(),b={resize:o.updateSize,orientationchange:function(){clearTimeout(yt),yt=setTimeout(function(){v.x!==o.scrollWrap.clientWidth&&o.updateSize()},500)},scroll:ln,keydown:mn,click:hn};var n,s,r,c=h.isOldIOSPhone||h.isOldAndroid||h.isMobileOpera;for(h.animationName&&h.transform&&!c||(a.showAnimationDuration=a.hideAnimationDuration=0),n=0;n<gt.length;n++)o["init"+gt[n]]();t&&(r=o.ui=new t(o,i),r.init()),d("firstUpdate"),l=l||a.index||0,(isNaN(l)||l<0||l>=C())&&(l=0),o.currItem=B(l),(h.isOldIOSPhone||h.isOldAndroid)&&(Ze=!1),e.setAttribute("aria-hidden","false"),a.modal&&(Ze?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===Q&&(d("initialLayout"),Q=Kt=i.getScrollY()),s="pswp--open ";for(a.mainClass&&(s+=a.mainClass+" "),a.showHideOpacity&&(s+="pswp--animate_opacity "),s+=D?"pswp--touch":"pswp--notouch",s+=h.animationName?" pswp--css_animation":"",s+=h.svg?" pswp--svg":"",i.addClass(e,s),o.updateSize(),N=-1,M=null,n=0;n<Y;n++)he((n+N)*x.x,f[n].el.style);st||i.bind(o.scrollWrap,Ve,o),m("initialZoomInEnd",function(){o.setContent(f[0],l-1),o.setContent(f[2],l+1),f[0].el.style.display=f[2].el.style.display="block",a.focus&&e.focus(),jn()}),o.setContent(f[1],l),o.updateCurrItem(),d("afterInit"),Ze||(ct=setInterval(function(){ge||z||R||u!==o.currItem.initialZoomLevel||o.updateSize()},1e3)),i.addClass(e,"pswp--visible")}},close:function(){ce&&(ce=!1,Vt=!0,d("close"),bn(),nn(o.currItem,null,!0,o.destroy))},destroy:function(){d("destroy"),ne&&clearTimeout(ne),e.setAttribute("aria-hidden","true"),e.className=Ut,ct&&clearInterval(ct),i.unbind(o.scrollWrap,Ve,o),i.unbind(window,"scroll",o),Ct(),we(),ke=null},panTo:function(e,t,n){n||(e>c.min.x?e=c.min.x:e<c.max.x&&(e=c.max.x),t>c.min.y?t=c.min.y:t<c.max.y&&(t=c.max.y)),r.x=e,r.y=t,p()},handleEvent:function(e){e=e||window.event,b[e.type]&&b[e.type](e)},goTo:function(e){e=Je(e);var t=e-l;M=t,l=e,o.currItem=B(l),K-=t,Pe(x.x*K),we(),j=!1,o.updateCurrItem()},next:function(){o.goTo(l+1)},prev:function(){o.goTo(l-1)},updateCurrZoomItem:function(e){if(e&&d("beforeChange",0),f[1].el.children.length){var t=f[1].el.children[0];P=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else P=null;c=o.currItem.bounds,re=u=o.currItem.initialZoomLevel,r.x=c.center.x,r.y=c.center.y,e&&d("afterChange")},invalidateCurrItems:function(){Ye=!0;for(var e=0;e<Y;e++)f[e].item&&(f[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==M){var t,s,i,n=Math.abs(M);if(!(e&&n<2)){o.currItem=B(l),se=!1,d("beforeChange",M),n>=Y&&(N+=M+(M>0?-Y:Y),n=Y);for(s=0;s<n;s++)M>0?(t=f.shift(),f[Y-1]=t,N++,he((N+2)*x.x,t.el.style),o.setContent(t,l-n+s+1+1)):(t=f.pop(),f.unshift(t),N--,he(N*x.x,t.el.style),o.setContent(t,l+n-s-1-1));P&&1===Math.abs(M)&&(i=B(Wt),i.initialZoomLevel!==u&&(Fe(i,v),Z(i),De(i))),M=0,o.updateCurrZoomItem(),Wt=l,d("afterChange")}}},updateSize:function(t){if(!Ze&&a.modal){var n,s,h,m,g=i.getScrollY();if(Q!==g&&(e.style.top=g+"px",Q=g),!t&&Oe.x===window.innerWidth&&Oe.y===window.innerHeight)return;Oe.x=window.innerWidth,Oe.y=window.innerHeight,e.style.height=Oe.y+"px"}if(v.x=o.scrollWrap.clientWidth,v.y=o.scrollWrap.clientHeight,ln(),x.x=v.x+Math.round(v.x*a.spacing),x.y=v.y,Pe(x.x*K),d("beforeResize"),void 0!==N){for(h=0;h<Y;h++)m=f[h],he((h+N)*x.x,m.el.style),s=l+h-1,a.loop&&C()>2&&(s=Je(s)),n=B(s),n&&(Ye||n.needsUpdate||!n.bounds)?(o.cleanSlide(n),o.setContent(m,s),1===h&&(o.currItem=n,o.updateCurrZoomItem(!0)),n.needsUpdate=!1):m.index===-1&&s>=0&&o.setContent(m,s),n&&n.container&&(Fe(n,v),Z(n),De(n));Ye=!1}re=u=o.currItem.initialZoomLevel,c=o.currItem.bounds,c&&(r.x=c.center.x,r.y=c.center.y,p(!0)),d("resize")},zoomTo:function(e,t,n,s,o){t&&(re=u,Se.x=Math.abs(t.x)-r.x,Se.y=Math.abs(t.y)-r.y,w(fe,r));var c,l,d,h=lt(e,!1),a={};an("x",h,a,e),an("y",h,a,e),l=u,c={x:r.x,y:r.y},en(a),d=function(t){1===t?(u=e,r.x=a.x,r.y=a.y):(u=(e-l)*t+l,r.x=(a.x-c.x)*t+c.x,r.y=(a.y-c.y)*t+c.y),o&&o(t),p(1===t)},n?ze("customZoomTo",0,1,n,s||i.easing.sine.inOut,d):d(1)}},sn=30,at=10,y={},ie={},_={},O={},de={},q=[],ae={},oe=[],ve={},nt=0,et=$(),bt=0,H=$(),Se=$(),le=$(),_n=function(e,t){return e.x===t.x&&e.y===t.y},On=function(e,t){return Math.abs(e.x-t.x)<Lt&&Math.abs(e.y-t.y)<Lt},Zt=function(e,t){return ve.x=Math.abs(e.x-t.x),ve.y=Math.abs(e.y-t.y),Math.sqrt(ve.x*ve.x+ve.y*ve.y)},Ct=function(){tt&&(ft(tt),tt=null)},Qt=function(){z&&(tt=Le(Qt),Tn())},xn=function(){return"fit"!==a.scaleMode||u!==o.currItem.initialZoomLevel},Gt=function(e,t){return!!e&&e!==document&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:Gt(e.parentNode,t))},St={},Pt=function(e,t){return St.prevent=!Gt(e.target,a.isClickableElement),d("preventDragEvent",e,t,St),St.prevent},Rt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Nt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},wn=function(e,t,n){if(e-Qe>50){var s=oe.length>2?oe.shift():{};s.x=t,s.y=n,oe.push(s),Qe=e}},Dt=function(){var e=r.y-o.currItem.initialPosition.y;return 1-Math.abs(e/(v.y/2))},Ae={},Nn={},G=[],Mt=function(e){for(;G.length>0;)G.pop();return I?(qe=0,q.forEach(function(e){0===qe?G[0]=e:1===qe&&(G[1]=e),qe++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(G[0]=Rt(e.touches[0],Ae),e.touches.length>1&&(G[1]=Rt(e.touches[1],Nn))):(Ae.x=e.pageX,Ae.y=e.pageY,Ae.id="",G[0]=Ae),G},Ht=function(e,t){var n,i,d,h,f=0,s=r[e]+t[e],p=t[e]>0,l=H.x+t.x,m=H.x-ae.x;return i=s>c.min[e]||s<c.max[e]?a.panEndFriction:1,s=r[e]+t[e]*i,!a.allowPanToNext&&u!==o.currItem.initialZoomLevel||(P?"h"!==W||"x"!==e||te||(p?(s>c.min[e]&&(i=a.panEndFriction,f=c.min[e]-s,d=c.min[e]-fe[e]),(d<=0||m<0)&&C()>1?(n=l,m<0&&l>ae.x&&(n=ae.x)):c.min.x!==c.max.x&&(h=s)):(s<c.max[e]&&(i=a.panEndFriction,f=s-c.max[e],d=fe[e]-c.max[e]),(d<=0||m>0)&&C()>1?(n=l,m>0&&l<ae.x&&(n=ae.x)):c.min.x!==c.max.x&&(h=s))):n=l,"x"!==e)?void(j||ee||u>o.currItem.fitRatio&&(r[e]+=t[e]*i)):(void 0!==n&&(Pe(n,!0),ee=n!==ae.x),c.min.x!==c.max.x&&(void 0!==h?r.x=h:ee||(r.x+=t.x*i)),void 0!==n)},Dn=function(e){if(!("mousedown"===e.type&&e.button>0)){if(ue)return void e.preventDefault();if(!Ee||"mousedown"!==e.type){Pt(e,!0)&&e.preventDefault(),d("pointerDown"),I&&(n=i.arraySearch(q,e.pointerId,"id"),n<0&&(n=q.length),q[n]={x:e.pageX,y:e.pageY,id:e.pointerId});var n,t=Mt(e),s=t.length;A=null,we(),z&&1!==s||(z=_t=!0,i.bind(window,Te,o),xt=Be=Ge=Me=ee=je=kt=te=!1,W=null,d("firstTouchStart",t),w(fe,r),V.x=V.y=0,w(O,t[0]),w(de,O),ae.x=x.x*K,oe=[{x:O.x,y:O.y}],Qe=qt=T(),lt(u,!0),Ct(),Qt()),!R&&s>1&&!j&&!ee&&(re=u,te=!1,R=kt=!0,V.y=V.x=0,w(fe,r),w(y,t[0]),w(ie,t[1]),Nt(y,ie,le),Se.x=Math.abs(le.x)-r.x,Se.y=Math.abs(le.y)-r.y,Yt=Jt=Zt(y,ie))}}},zn=function(e){if(e.preventDefault(),I){var t,n,s,o=i.arraySearch(q,e.pointerId,"id");o>-1&&(n=q[o],n.x=e.pageX,n.y=e.pageY)}z&&(t=Mt(e),W||je||R?A=t:H.x!==x.x*K?W="h":(s=Math.abs(t[0].x-O.x)-Math.abs(t[0].y-O.y),Math.abs(s)>=at&&(W=s>0?"h":"v",A=t)))},Tn=function(){if(A&&(s=A.length,0!==s))if(w(y,A[0]),_.x=y.x-O.x,_.y=y.y-O.y,R&&s>1){if(O.x=y.x,O.y=y.y,!_.x&&!_.y&&_n(A[1],ie))return;w(ie,A[1]),te||(te=!0,d("zoomGestureStarted"));var s,l,h,f,g,m=Zt(y,ie),e=En(m);e>o.currItem.initialZoomLevel+o.currItem.initialZoomLevel/15&&(Be=!0);var t=1,n=on(),i=Tt();e<n?a.pinchToClose&&!Be&&re<=o.currItem.initialZoomLevel?(f=n-e,l=1-f/(n/1.2),L(l),d("onPinchClose",l),Ge=!0):(t=(n-e)/n,t>1&&(t=1),e=n-t*(n/3)):e>i&&(t=(e-i)/(6*n),t>1&&(t=1),e=i+t*n),t<0&&(t=0),Yt=m,Nt(y,ie,et),V.x+=et.x-le.x,V.y+=et.y-le.y,w(le,et),r.x=mt("x",e),r.y=mt("y",e),xt=e>u,u=e,p()}else{if(!W)return;if(_t&&(_t=!1,Math.abs(_.x)>=at&&(_.x-=A[0].x-de.x),Math.abs(_.y)>=at&&(_.y-=A[0].y-de.y)),O.x=y.x,O.y=y.y,0===_.x&&0===_.y)return;if("v"===W&&a.closeOnVerticalDrag&&!xn())return V.y+=_.y,r.y+=_.y,h=Dt(),Me=!0,d("onVerticalDrag",h),L(h),void p();wn(T(),y.x,y.y),je=!0,c=o.currItem.bounds,g=Ht("x",_),g||(Ht("y",_),en(r),p())}},Mn=function(e){if(h.isOldAndroid){if(Ee&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(Ee),Ee=setTimeout(function(){Ee=0},600))}d("pointerUp"),Pt(e,!1)&&e.preventDefault(),I&&(l=i.arraySearch(q,e.pointerId,"id"),l>-1&&(t=q.splice(l,1)[0],navigator.msPointerEnabled?(g={4:"mouse",2:"touch",3:"pen"},t.type=g[e.pointerType],t.type||(t.type=e.pointerType||"mouse")):t.type=e.pointerType||"mouse"));var t,s,c,l,m,f,g,b,y,v=Mt(e),n=v.length;if("mouseup"===e.type&&(n=0),2===n)return A=null,!0;if(1===n&&w(de,v[0]),0!==n||W||j||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),d("touchRelease",e,t)),c=-1,0===n&&(z=!1,i.unbind(window,Te,o),Ct(),R?c=0:bt!==-1&&(c=T()-bt)),bt=1===n?T():-1,s=c!==-1&&c<150?"zoom":"swipe",R&&n<2&&(R=!1,1===n&&(s="zoomPointerUp"),d("zoomGestureEnded")),A=null,je||te||j||Me)if(we(),Ne||(Ne=Sn()),Ne.calculateSwipeSpeed("x"),Me)b=Dt(),b<a.verticalDragRange?o.close():(m=r.y,f=We,ze("verticalDrag",0,1,300,i.easing.cubic.out,function(e){r.y=(o.currItem.initialPosition.y-m)*e+m,L((1-f)*e+f),p()}),d("onVerticalDrag",1));else{if((ee||j)&&0===n){if(y=kn(s,Ne),y)return;s="zoomPointerUp"}if(!j)return"swipe"!==s?void Cn():void(!ee&&u>o.currItem.fitRatio&&An(Ne))}},Sn=function(){var t,n,e={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(s){oe.length>1?(t=T()-Qe+50,n=oe[oe.length-2][s]):(t=T()-qt,n=de[s]),e.lastFlickOffset[s]=O[s]-n,e.lastFlickDist[s]=Math.abs(e.lastFlickOffset[s]),e.lastFlickDist[s]>20?e.lastFlickSpeed[s]=e.lastFlickOffset[s]/t:e.lastFlickSpeed[s]=0,Math.abs(e.lastFlickSpeed[s])<.1&&(e.lastFlickSpeed[s]=0),e.slowDownRatio[s]=.95,e.slowDownRatioReverse[s]=1-e.slowDownRatio[s],e.speedDecelerationRatio[s]=1},calculateOverBoundsAnimOffset:function(t,n){e.backAnimStarted[t]||(r[t]>c.min[t]?e.backAnimDestination[t]=c.min[t]:r[t]<c.max[t]&&(e.backAnimDestination[t]=c.max[t]),void 0!==e.backAnimDestination[t]&&(e.slowDownRatio[t]=.7,e.slowDownRatioReverse[t]=1-e.slowDownRatio[t],e.speedDecelerationRatioAbs[t]<.05&&(e.lastFlickSpeed[t]=0,e.backAnimStarted[t]=!0,ze("bounceZoomPan"+t,r[t],e.backAnimDestination[t],n||300,i.easing.sine.out,function(e){r[t]=e,p()}))))},calculateAnimOffset:function(t){e.backAnimStarted[t]||(e.speedDecelerationRatio[t]=e.speedDecelerationRatio[t]*(e.slowDownRatio[t]+e.slowDownRatioReverse[t]-e.slowDownRatioReverse[t]*e.timeDiff/10),e.speedDecelerationRatioAbs[t]=Math.abs(e.lastFlickSpeed[t]*e.speedDecelerationRatio[t]),e.distanceOffset[t]=e.lastFlickSpeed[t]*e.speedDecelerationRatio[t]*e.timeDiff,r[t]+=e.distanceOffset[t])},panAnimLoop:function(){if(k.zoomPan&&(k.zoomPan.raf=Le(e.panAnimLoop),e.now=T(),e.timeDiff=e.now-e.lastNow,e.lastNow=e.now,e.calculateAnimOffset("x"),e.calculateAnimOffset("y"),p(),e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),e.speedDecelerationRatioAbs.x<.05&&e.speedDecelerationRatioAbs.y<.05))return r.x=Math.round(r.x),r.y=Math.round(r.y),p(),void xe("zoomPan")}};return e},An=function(e){return e.calculateSwipeSpeed("y"),c=o.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(ot("zoomPan"),e.lastNow=T(),void e.panAnimLoop())},kn=function(e,t){if(j||(nt=l),"swipe"===e){var n,s,r,c,u,f,h=O.x-de.x,m=t.lastFlickDist.x<10;h>sn&&(m||t.lastFlickOffset.x>20)?r=-1:h<-sn&&(m||t.lastFlickOffset.x<-20)&&(r=1)}return r&&(l+=r,l<0?(l=a.loop?C()-1:0,u=!0):l>=C()&&(l=a.loop?0:C()-1,u=!0),u&&!a.loop||(M+=r,K-=r,s=!0)),c=x.x*K,f=Math.abs(c-H.x),s||c>H.x==t.lastFlickSpeed.x>0?(n=Math.abs(t.lastFlickSpeed.x)>0?f/Math.abs(t.lastFlickSpeed.x):333,n=Math.min(n,400),n=Math.max(n,250)):n=333,nt===l&&(s=!1),j=!0,d("mainScrollAnimStart"),ze("mainScroll",H.x,c,n,i.easing.cubic.out,Pe,function(){we(),j=!1,nt=-1,(s||nt!==l)&&o.updateCurrItem(),d("mainScrollAnimComplete")}),s&&o.updateCurrItem(!0),s},En=function(e){return 1/Jt*e*re},Cn=function(){var n,a,r,e=u,t=on(),s=Tt();return u<t?e=t:u>s&&(e=s),r=1,n=We,Ge&&!xt&&!Be&&u<t?(o.close(),!0):(Ge&&(a=function(e){L((r-n)*e+n)}),o.zoomTo(e,0,200,i.easing.cubic.out,a),!0)};Ce("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,s,o){Ke=e+t,$e=e+n,_e=e+s,He=o?e+o:""};I=h.pointerEvent,I&&h.touch&&(h.touch=!1),I?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):h.touch?(e("touch","start","move","end","cancel"),D=!0):e("mouse","down","move","up"),Te=$e+" "+_e+" "+He,Ve=Ke,I&&!D&&(D=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),o.likelyTouchDevice=D,b[Ke]=Dn,b[$e]=zn,b[_e]=Mn,He&&(b[He]=b[_e]),h.touch&&(Ve+=" mousedown",Te+=" mousemove mouseup",b.mousedown=b[Ke],b.mousemove=b[$e],b.mouseup=b[_e]),D||(a.allowPanToNext=!1)}}});var C,B,U,ne,Et,ue,yn,nn=function(t,n,s,c){ne&&clearTimeout(ne),ue=!0,Et=!0,t.initialLayout?(h=t.initialLayout,t.initialLayout=null):h=a.getThumbBoundsFn&&a.getThumbBoundsFn(l);var h,g,m=s?a.hideAnimationDuration:a.showAnimationDuration,f=function(){xe("initialZoom"),s?(o.template.removeAttribute("style"),o.bg.removeAttribute("style")):(L(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),d("initialZoom"+(s?"OutEnd":"InEnd"))),c&&c(),ue=!1};if(!m||!h||void 0===h.x)return d("initialZoom"+(s?"Out":"In")),u=t.initialZoomLevel,w(r,t.initialPosition),p(),e.style.opacity=s?0:1,L(1),void(m?setTimeout(function(){f()},m):f());g=function(){var c=wt,n=!o.currItem.src||o.currItem.loadError||a.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),s||(u=h.w/t.w,r.x=h.x,r.y=h.y-Kt,o[n?"template":"bg"].style.opacity=.001,p()),ot("initialZoom"),s&&!c&&i.removeClass(e,"pswp--animated-in"),n&&(s?i[(c?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){i.addClass(e,"pswp--animate_opacity")},30)),ne=setTimeout(function(){if(d("initialZoom"+(s?"Out":"In")),s){var a=h.w/t.w,o={x:r.x,y:r.y},l=u,g=We,v=function(t){1===t?(u=a,r.x=h.x,r.y=h.y-Q):(u=(a-l)*t+l,r.x=(h.x-o.x)*t+o.x,r.y=(h.y-Q-o.y)*t+o.y),p(),n?e.style.opacity=1-t:L(g-t*g)};c?ze("initialZoom",0,1,m,i.easing.cubic.out,v,f):(v(1),ne=setTimeout(f,m+20))}else u=t.initialZoomLevel,w(r,t.initialPosition),p(),L(1),n?e.style.opacity=1:L(1),ne=setTimeout(f,m+20)},s?25:90)},g()},S={},J=[],gn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return U.length}},rn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},fn=function(e,t,n){var s=e.bounds;s.center.x=Math.round((S.x-t)/2),s.center.y=Math.round((S.y-n)/2)+e.vGap.top,s.max.x=t>S.x?Math.round(S.x-t):s.center.x,s.max.y=n>S.y?Math.round(S.y-n)+e.vGap.top:s.center.y,s.min.x=t>S.x?0:s.center.x,s.min.y=n>S.y?e.vGap.top:s.center.y},Fe=function(e,t,n){if(e.src&&!e.loadError){if(s=!n,s&&(e.vGap||(e.vGap={top:0,bottom:0}),d("parseVerticalMargin",e)),S.x=t.x,S.y=t.y-e.vGap.top-e.vGap.bottom,s){var s,o,i=S.x/e.w,r=S.y/e.h;e.fitRatio=i<r?i:r,o=a.scaleMode,"orig"===o?n=1:"fit"===o&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=rn())}if(!n)return;return fn(e,e.w*n,e.h*n),s&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=rn(),e.initialPosition=e.bounds.center,e.bounds},Xe=function(e,t,n,s,i,a){t.loadError||s&&(t.imageAppended=!0,Z(t,s,t===o.currItem&&se),n.appendChild(s),a&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},un=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},dn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=a.errorMsg.replace("%url%",e.src),!0},Z=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var s=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=s+"px",e.placeholder.style.height=o+"px"),t.style.width=s+"px",t.style.height=o+"px"}},cn=function(){if(J.length){for(var e,t=0;t<J.length;t++)e=J[t],e.holder.index===e.index&&Xe(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);J=[]}};Ce("Controller",{publicMethods:{lazyLoadItem:function(e){e=Je(e);var t=B(e);t&&(!t.loaded&&!t.loading||Ye)&&(d("gettingData",e,t),t.src&&un(t))},initController:function(){i.extend(a,gn,!0),o.items=U=n,B=o.getItemAt,C=a.getNumItemsFn,yn=a.loop,C()<3&&(a.loop=!1),m("beforeChange",function(e){var t,n=a.preload,s=null===e||e>=0,i=Math.min(n[0],C()),r=Math.min(n[1],C());for(t=1;t<=(s?r:i);t++)o.lazyLoadItem(l+t);for(t=1;t<=(s?i:r);t++)o.lazyLoadItem(l-t)}),m("initialLayout",function(){o.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(l)}),m("mainScrollAnimComplete",cn),m("initialZoomInEnd",cn),m("destroy",function(){for(var e,t=0;t<U.length;t++)e=U[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);J=null})},getItemAt:function(e){return e>=0&&void 0!==U[e]&&U[e]},allowProgressiveImg:function(){return a.forceProgressiveLoading||!D||a.mouseUsed||screen.width>1200},setContent:function(e,t){a.loop&&(t=Je(t));var n,s,r,c,u,m=o.getItemAt(e.index);if(m&&(m.container=null),n=o.getItemAt(t),!n)return void(e.el.innerHTML="");d("gettingData",t,n),e.index=t,e.item=n,s=n.container=i.createEl("pswp__zoom-wrap"),!n.src&&n.html&&(n.html.tagName?s.appendChild(n.html):s.innerHTML=n.html),dn(n),Fe(n,v),!n.src||n.loadError||n.loaded?n.src&&!n.loadError&&(r=i.createEl("pswp__img","img"),r.style.opacity=1,r.src=n.src,Z(n,r),Xe(t,n,s,r,!0)):((n.loadComplete=function(n){if(ce){if(e&&e.index===t){if(dn(n,!0))return n.loadComplete=n.img=null,Fe(n,v),De(n),void(e.index===l&&o.updateCurrZoomItem());n.imageAppended?!ue&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):h.transform&&(j||ue)?J.push({item:n,baseDiv:s,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Xe(t,n,s,n.img,j||ue,!0)}n.loadComplete=null,n.img=null,d("imageLoadComplete",t,n)}},i.features.transform)&&(u="pswp__img pswp__img--placeholder",u+=n.msrc?"":" pswp__img--placeholder--blank",c=i.createEl(u,n.msrc?"img":""),n.msrc&&(c.src=n.msrc),Z(n,c),s.appendChild(c),n.placeholder=c),n.loading||un(n),o.allowProgressiveImg()&&(!Et&&h.transform?J.push({item:n,baseDiv:s,img:n.img,index:t,holder:e}):Xe(t,n,s,n.img,!0,!0))),Et||t!==l?De(n):(P=s.style,nn(n,r||n.img)),e.el.innerHTML="",e.el.appendChild(s)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}}),Re={},Ue=function(e,t,n){var s=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};s.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(s)},Ce("Tap",{publicMethods:{initTap:function(){m("firstTouchStart",o.onTapStart),m("touchRelease",o.onTapRelease),m("destroy",function(){Re={},X=null})},onTapStart:function(e){e.length>1&&(clearTimeout(X),X=null)},onTapRelease:function(e,t){if(t&&!je&&!kt&&!ge){var s,n=t;if(X&&(clearTimeout(X),X=null,On(n,Re)))return void d("doubleTap",n);if("mouse"===t.type)return void Ue(e,t,"mouse");if(s=e.target.tagName.toUpperCase(),"BUTTON"===s||i.hasClass(e.target,"pswp__single-tap"))return void Ue(e,t);w(Re,n),X=setTimeout(function(){Ue(e,t),X=null},300)}}}}),Ce("DesktopZoom",{publicMethods:{initDesktopZoom:function(){st||(D?m("mouseUsed",function(){o.setupDesktopZoom()}):o.setupDesktopZoom(!0))},setupDesktopZoom:function(t){E={},n="wheel mousewheel DOMMouseScroll",m("bindEvents",function(){i.bind(e,n,o.handleMouseWheel)}),m("unbindEvents",function(){E&&i.unbind(e,n,o.handleMouseWheel)}),o.mouseZoomedIn=!1;var n,s,a=function(){o.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),o.mouseZoomedIn=!1),u<1?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),r()},r=function(){s&&(i.removeClass(e,"pswp--dragging"),s=!1)};m("resize",a),m("afterChange",a),m("pointerDown",function(){o.mouseZoomedIn&&(s=!0,i.addClass(e,"pswp--dragging"))}),m("pointerUp",r),t||a()},handleMouseWheel:function(e){if(u<=o.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||ge||z?e.preventDefault():me&&Math.abs(e.deltaY)>2&&(wt=!0,o.close())),!0;if(e.stopPropagation(),E.x=0,"deltaX"in e)1===e.deltaMode?(E.x=18*e.deltaX,E.y=18*e.deltaY):(E.x=e.deltaX,E.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(E.x=-.16*e.wheelDeltaX),e.wheelDeltaY?E.y=-.16*e.wheelDeltaY:E.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;E.y=e.detail}lt(u,!0);var t=r.x-E.x,n=r.y-E.y;(a.modal||t<=c.min.x&&t>=c.max.x&&n<=c.min.y&&n>=c.max.y)&&e.preventDefault(),o.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:v.x/2+be.x,y:v.y/2+be.y};var s=a.getDoubleTapZoom(!0,o.currItem),n=u===s;o.mouseZoomedIn=!n,o.zoomTo(n?o.currItem.initialZoomLevel:s,t,333),i[(n?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var g,F,dt,tn,ye,Ie,At,Xt,pe,vt,pt,jt,Fn={history:!0,galleryUID:1},Ot=function(){return F.hash.substring(1)},Bt=function(){dt&&clearTimeout(dt),ye&&clearTimeout(ye)},It=function(){var t,n,s,i,o=Ot(),e={};if(o.length<5)return e;n=o.split("&");for(t=0;t<n.length;t++)n[t]&&(s=n[t].split("="),s.length<2||(e[s[0]]=s[1]));if(a.galleryPIDs){{i=e.pid;for(e.pid=0,t=0;t<U.length;t++)if(U[t].pid===i){e.pid=t;break}}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},Ft=function(){if(ye&&clearTimeout(ye),ge||z)return void(ye=setTimeout(Ft,500));Ie?clearTimeout(tn):Ie=!0;var e,t,n=l+1,s=B(l);s.hasOwnProperty("pid")&&(n=s.pid),e=g+"&gid="+a.galleryUID+"&pid="+n,pe||F.hash.indexOf(e)===-1&&(pt=!0),t=F.href.split("#")[0]+"#"+e,jt?"#"+e!==window.location.hash&&history[pe?"replaceState":"pushState"]("",document.title,t):pe?F.replace(t):F.hash=e,pe=!0,tn=setTimeout(function(){Ie=!1},60)};Ce("History",{publicMethods:{initHistory:function(){if(i.extend(a,Fn,!0),a.history){F=window.location,pt=!1,vt=!1,pe=!1,g=Ot(),jt="pushState"in history,g.indexOf("gid=")>-1&&(g=g.split("&gid=")[0],g=g.split("?gid=")[0]),m("afterChange",o.updateURL),m("unbindEvents",function(){i.unbind(window,"hashchange",o.onHashChange)});var e,t=function(){Xt=!0,vt||(pt?history.back():g?F.hash=g:jt?history.pushState("",document.title,F.pathname+F.search):F.hash=""),Bt()};m("unbindEvents",function(){wt&&t()}),m("destroy",function(){Xt||t()}),m("firstUpdate",function(){l=It().pid}),e=g.indexOf("pid="),e>-1&&(g=g.substring(0,e),"&"===g.slice(-1)&&(g=g.slice(0,-1))),setTimeout(function(){ce&&i.bind(window,"hashchange",o.onHashChange)},40)}},onHashChange:function(){return Ot()===g?(vt=!0,void o.close()):void(Ie||(At=!0,o.goTo(It().pid),At=!1))},updateURL:function(){Bt(),At||(pe?dt=setTimeout(Ft,800):Ft())}}}),i.extend(o,vn)};return e})