/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var n,o,i,a,c,d,m,f,b,j,y,C,E,k,A,F,z,D,R,s=this,w=!1,l=!0,r=!0,W={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},x=function(e){if(f)return!0;e=e||window.event,n.timeToIdle&&n.mouseUsed&&!b&&O();for(var s,i,a,r=e.target||e.srcElement,c=r.getAttribute("class")||"",o=0;o<g.length;o++)s=g[o],s.onTap&&c.indexOf("pswp__"+s.name)>-1&&(s.onTap(),i=!0);i&&(e.stopPropagation&&e.stopPropagation(),f=!0,a=t.features.isOldAndroid?600:30,R=setTimeout(function(){f=!1},a))},I=function(){return!e.likelyTouchDevice||n.mouseUsed||screen.width>n.fitControlsWidth},u=function(e,n,s){t[(s?"add":"remove")+"Class"](e,"pswp__"+n)},S=function(){var e=1===n.getNumItemsFn();e!==D&&(u(o,"ui--one-slide",e),D=e)},M=function(){u(c,"share-modal--hidden",r)},h=function(){return r=!r,r?(t.removeClass(c,"pswp__share-modal--fade-in"),setTimeout(function(){r&&M()},300)):(M(),setTimeout(function(){r||t.addClass(c,"pswp__share-modal--fade-in")},30)),r||L(),!1},N=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),r||h(),!1))},L=function(){for(var e,s,i,a,r,t="",o=0;o<n.shareButtons.length;o++)e=n.shareButtons[o],s=n.getImageURLForShare(e),a=n.getPageURLForShare(e),r=n.getTextForShare(e),i=e.url.replace("{{url}}",encodeURIComponent(a)).replace("{{image_url}}",encodeURIComponent(s)).replace("{{raw_image_url}}",s).replace("{{text}}",encodeURIComponent(r)),t+='<a href="'+i+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",n.parseShareButtonOut&&(t=n.parseShareButtonOut(e,t));c.children[0].innerHTML=t,c.children[0].onclick=N},_=function(e){for(var s=0;s<n.closeElClasses.length;s++)if(t.hasClass(e,"pswp__"+n.closeElClasses[s]))return!0},v=0,O=function(){clearTimeout(y),v=0,b&&s.setIdle(!1)},T=function(e){e=e||window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(y),y=setTimeout(function(){s.setIdle(!0)},n.timeToIdleOutside))},P=function(){n.fullscreenEl&&!t.features.isOldAndroid&&(a||(a=s.getFullscreenAPI()),a?(t.bind(document,a.eventK,s.updateFullscreen),s.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},H=function(){n.preloaderEl&&(p(!0),i("beforeChange",function(){clearTimeout(z),z=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&p(!1):p(!0)},n.loadingIndicatorDelay)}),i("imageLoadComplete",function(t,n){e.currItem===n&&p(!0)}))},p=function(e){F!==e&&(u(A,"preloader--active",!e),F=e)},B=function(e){var i,a,s=e.vGap;I()?(i=n.barsSize,n.captionEl&&"auto"===i.bottom?(d||(d=t.createEl("pswp__caption pswp__caption--fake"),d.appendChild(t.createEl("pswp__caption__center")),o.insertBefore(d,m),t.addClass(o,"pswp__ui--fit")),n.addCaptionHTMLFn(e,d,!0)?(a=d.clientHeight,s.bottom=parseInt(a,10)||44):s.bottom=i.top):s.bottom="auto"===i.bottom?0:i.bottom,s.top=i.top):s.top=s.bottom=0},V=function(){n.timeToIdle&&i("mouseUsed",function(){t.bind(document,"mousemove",O),t.bind(document,"mouseout",T),j=setInterval(function(){v++,2===v&&s.setIdle(!0)},n.timeToIdle/2)})},$=function(){i("onVerticalDrag",function(e){l&&e<.95?s.hideControls():!l&&e>=.95&&s.showControls()});var e;i("onPinchClose",function(t){l&&t<.9?(s.hideControls(),e=!0):e&&!l&&t>.9&&s.showControls()}),i("zoomGestureEnded",function(){e=!1,e&&!l&&s.showControls()})},g=[{name:"caption",option:"captionEl",onInit:function(e){m=e}},{name:"share-modal",option:"shareEl",onInit:function(e){c=e},onTap:function(){h()}},{name:"button--share",option:"shareEl",onInit:function(e){k=e},onTap:function(){h()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){C=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){a.isFullscreen()?a.exit():a.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){A=e}}],U=function(){var e,s,i,a,r=function(o){if(o)for(var i,c=o.length,r=0;r<c;r++){e=o[r],a=e.className;for(i=0;i<g.length;i++)s=g[i],a.indexOf("pswp__"+s.name)>-1&&(n[s.option]?(t.removeClass(e,"pswp__element--disabled"),s.onInit&&s.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(o.children),i=t.getChildByClass(o,"pswp__top-bar"),i&&r(i.children)};s.init=function(){t.extend(e.options,W,!0),n=e.options,o=t.getChildByClass(e.scrollWrap,"pswp__ui"),i=e.listen,$(),i("beforeChange",s.update),i("doubleTap",function(t){var s=e.currItem.initialZoomLevel;e.getZoomLevel()!==s?e.zoomTo(s,t,333):e.zoomTo(n.getDoubleTapZoom(!1,e.currItem),t,333)}),i("preventDragEvent",function(e,t,n){var s=e.target||e.srcElement;s&&s.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(s.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(s.tagName))&&(n.prevent=!1)}),i("bindEvents",function(){t.bind(o,"pswpTap click",x),t.bind(e.scrollWrap,"pswpTap",s.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",s.onMouseOver)}),i("unbindEvents",function(){r||h(),j&&clearInterval(j),t.unbind(document,"mouseout",T),t.unbind(document,"mousemove",O),t.unbind(o,"pswpTap click",x),t.unbind(e.scrollWrap,"pswpTap",s.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",s.onMouseOver),a&&(t.unbind(document,a.eventK,s.updateFullscreen),a.isFullscreen()&&(n.hideAnimationDuration=0,a.exit()),a=null)}),i("destroy",function(){n.captionEl&&(d&&o.removeChild(d),t.removeClass(m,"pswp__caption--empty")),c&&(c.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),s.setIdle(!1)}),n.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),i("initialZoomIn",function(){n.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")}),i("initialZoomOut",function(){t.addClass(o,"pswp__ui--hidden")}),i("parseVerticalMargin",B),U(),n.shareEl&&k&&c&&(r=!0),S(),V(),P(),H()},s.setIdle=function(e){b=e,u(o,"ui--idle",e)},s.update=function(){l&&e.currItem?(s.updateIndexIndicator(),n.captionEl&&(n.addCaptionHTMLFn(e.currItem,m),u(m,"caption--empty",!e.currItem.title)),w=!0):w=!1,r||h(),S()},s.updateFullscreen=function(n){n&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(a.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},s.updateIndexIndicator=function(){n.counterEl&&(C.innerHTML=e.getCurrentIndex()+1+n.indexIndicatorSep+n.getNumItemsFn())},s.onGlobalTap=function(o){o=o||window.event;var i=o.target||o.srcElement;if(!f)if(o.detail&&"mouse"===o.detail.pointerType){if(_(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?n.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(o.detail.releasePoint))}else if(n.tapToToggleControls&&(l?s.hideControls():s.showControls()),n.tapToClose&&(t.hasClass(i,"pswp__img")||_(i)))return void e.close()},s.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;u(o,"ui--over-close",_(t))},s.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),l=!1},s.showControls=function(){l=!0,w||s.update(),t.removeClass(o,"pswp__ui--hidden")},s.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},s.getFullscreenAPI=function(){var t,s=document.documentElement,o="fullscreenchange";return s.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:s.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:s.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:s.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return E=n.closeOnScroll,n.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return n.closeOnScroll=E,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e})